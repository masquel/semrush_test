{"version":3,"sources":["node_modules/browser-pack/_prelude.js","../src/js/app.js","app.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","app","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","./src/js/app.js","_dereq_","_createClass","defineProperties","target","props","key","prop","configurable","value","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","SuperSearchLine","superSearchLineNode","remote","id","getAttribute","baseClass","baseClassSelector","urlPattern","RegExp","superSearchLineForm","querySelector","superSearchLineInput","superSearchLineReset","superSearchLineButton","addEventListener","superSearchLineInputHandler","bind","superSearchLineResetValue","superSearchLineSubmit","linkTextEl1","document","createElement","linkTextEl2","linkTextEl3","classList","add","helperEl1","helperEl2","helperEl3","innerHTML","helperStr1Width","stringWidthInPX","helperStr2Width","helperStr3Width","parseUrl","url","test","setAttribute","result","removeChild","preventDefault","XHR","XMLHttpRequest","XDomainRequest","data","formId","query","open","onload","response","console","log","onerror","error","send","superSearchLineResultGenerator","protocol","domain","inputWidth","offsetWidth","linkStr1Width","linkStr2Width","linkStr3Width","superSearchLineResult","helperFixedClass","remove","superSearchLineItems","nodeToString","removeAttribute","_result","match","appendChild","el","hiddenStyle","clone","style","indexOf","all","parent","body","width","clientWidth","node","tmpNode","cloneNode","str","init","superSearchLines","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","superSearchLine","err"],"mappings":"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","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\n\n//const test_url = \"https://medium.com/playwell/no-mans-sky-and-the-beautiful-return-to-the-weird-81343f2aad37/\";\n\n\nclass SuperSearchLine {\n\n\tconstructor(superSearchLineNode) {\n\t\t\n\t\t// Устанавливаем базовые переменные\n\t\tthis.remote = \"http://super-analytics.com/\";\n\n\t\tthis.id = superSearchLineNode.getAttribute(\"id\");\n\t\tthis.baseClass = 'super-search-line';\n\t\tthis.baseClassSelector = \".\"+this.baseClass;\n\t\tthis.urlPattern = new RegExp(/(https?:\\/\\/)?((?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b)([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/);\n\t\t\n\t\t// Определяем элементы\n\t\tthis.superSearchLineForm = superSearchLineNode.querySelector(this.baseClassSelector+\"__form\");\n\t\tthis.superSearchLineInput = superSearchLineNode.querySelector(this.baseClassSelector+\"__input\");\n\t\tthis.superSearchLineReset = superSearchLineNode.querySelector(this.baseClassSelector+\"__reset\");\n\t\tthis.superSearchLineButton = superSearchLineNode.querySelector(this.baseClassSelector+\"__button\");\n\t\t// Навешиваем события\n\t\tthis.superSearchLineInput.addEventListener('change',this.superSearchLineInputHandler.bind(this));\n\t\tthis.superSearchLineInput.addEventListener('input',this.superSearchLineInputHandler.bind(this));\n\t\tthis.superSearchLineReset.addEventListener('click',this.superSearchLineResetValue.bind(this));\n\t\tthis.superSearchLineButton.addEventListener('click',this.superSearchLineSubmit.bind(this));\n\t\tthis.superSearchLineForm.addEventListener('submit',this.superSearchLineSubmit.bind(this));\n\t\t\n\n\t\t// Создаем элементы для отображения результата\n\n\t\t// Создаем блоки для подсказок\n\t\tthis.linkTextEl1 = document.createElement('div');\n\t\tthis.linkTextEl2 = document.createElement('div');\n\t\tthis.linkTextEl3 = document.createElement('div');\n\t\tthis.linkTextEl1.classList.add(`${this.baseClass}__link-text`);\n\t\tthis.linkTextEl2.classList.add(`${this.baseClass}__link-text`);\n\t\tthis.linkTextEl3.classList.add(`${this.baseClass}__link-text`);\n\n\t\t// Создаем блоки поясняющего текста и сразу считаем ширину т.к. в дальнейшем не меняются \n\t\tthis.helperEl1 = document.createElement('div');\n\t\tthis.helperEl2 = document.createElement('div');\n\t\tthis.helperEl3 = document.createElement('div');\n\t\t\n\t\tthis.helperEl1.classList.add(`${this.baseClass}__helper`);\n\t\tthis.helperEl2.classList.add(`${this.baseClass}__helper`);\n\t\tthis.helperEl3.classList.add(`${this.baseClass}__helper`);\n\n\t\tthis.helperEl1.innerHTML = `in <span class=\"${this.baseClass}__helper-type\">Phrase Overview</span>`;\n\t\tthis.helperEl2.innerHTML = `in <span class=\"${this.baseClass}__helper-type\">Domain Overview</span>`;\n\t\tthis.helperEl3.innerHTML = `in <span class=\"${this.baseClass}__helper-type\">URL Overview</span>`;\n\t\t\n\t\tthis.helperStr1Width = this.stringWidthInPX(this.helperEl1);\n\t\tthis.helperStr2Width = this.stringWidthInPX(this.helperEl2);\n\t\tthis.helperStr3Width = this.stringWidthInPX(this.helperEl3);\n\t}\n\n\t\n\tparseUrl(url){\n\t\treturn this.urlPattern.test(url);\n\t}\n\n\tsuperSearchLineResetValue(){\n\t\tthis.superSearchLineInput.value = null;\n\t\t//this.superSearchLineInput.change();\n\t\tthis.superSearchLineReset.classList.add('hidden');\n\t\tthis.superSearchLineButton.setAttribute(\"disabled\",\"disabled\");\n\t\tlet result = this.superSearchLineForm.querySelector(this.baseClassSelector+\"__result\");\n\t\tresult && this.superSearchLineForm.removeChild(result);\n\t\t//console.log(this.superSearchLineInput.value);\n\t}\n\n\tsuperSearchLineSubmit(e){\n\t\te.preventDefault();\n\t\tlet XHR = (\"onload\" in new XMLHttpRequest()) ? XMLHttpRequest : XDomainRequest;\n\t\tlet r = new XHR();\n\t\tlet data = {\n\t\t\t\"formId\": this.id,\n\t\t\t\"query\": this.superSearchLineInput.value\n\t\t};\n\t\tr.open(\"POST\",this.remote);\n\t\tr.onload = (response) => {\n\t\t\tconsole.log(response);\n\t\t};\n\t\tr.onerror = (error) => {\n\t\t\tconsole.log(\"Ошибка: \", error);\n\t\t};\n\t\tr.send(data);\n\t}\n\n\tsuperSearchLineResultGenerator(protocol, domain, query){\n\t\tlet inputWidth = this.superSearchLineInput.offsetWidth;\n\n\t\t// Записываем текст в блоки результата и считаем их ширину\n\t\tthis.linkTextEl1.innerHTML = protocol+domain+query;\n\t\tlet linkStr1Width = this.stringWidthInPX(this.linkTextEl1);\n\t\tthis.linkTextEl2.innerHTML = domain;\n\t\tlet linkStr2Width = this.stringWidthInPX(this.linkTextEl2);\n\t\tthis.linkTextEl3.innerHTML = domain+query;\n\t\tlet linkStr3Width = this.stringWidthInPX(this.linkTextEl3);\n\n\t\t\n\t\t\n\t\tlet superSearchLineResult = document.createElement('div');\n\t\tsuperSearchLineResult.setAttribute('class', this.baseClass+\"__result\");\n\t\tlet helperFixedClass = `${this.baseClass}__helper--fixed`;\n\n\t\t(inputWidth - this.helperStr1Width < linkStr1Width) ? this.helperEl1.classList.add(helperFixedClass) : this.helperEl1.classList.remove(helperFixedClass);\n\t\t(inputWidth - this.helperStr2Width < linkStr2Width) ? this.helperEl2.classList.add(helperFixedClass) : this.helperEl2.classList.remove(helperFixedClass);\n\t\t(inputWidth - this.helperStr3Width < linkStr3Width) ? this.helperEl3.classList.add(helperFixedClass) : this.helperEl3.classList.remove(helperFixedClass);\n\n\n\t\tlet superSearchLineItems =\t\n\t\t\t`<div class=\"${this.baseClass}__item\">\n\t\t\t\t<a href=\"${this.remote}?suggestionType=phrase&query=${protocol+domain+query}\" target=\"_blank\" class=\"${this.baseClass}__link\">\n\t\t\t\t\t${this.nodeToString(this.linkTextEl1)}\n\t\t\t\t\t${this.nodeToString(this.helperEl1)}\n\t\t\t\t</a>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t<div class=\"${this.baseClass}__item\">\n\t\t\t\t<a href=\"${this.remote}?suggestionType=domain&query=${domain}\" target=\"_blank\" class=\"${this.baseClass}__link\">\n\t\t\t\t\t${this.nodeToString(this.linkTextEl2)}\n\t\t\t\t\t${this.nodeToString(this.helperEl2)}\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class=\"${this.baseClass}__item\">\n\t\t\t\t<a href=\"${this.remote}?suggestionType=url&query=${domain+query}\" target=\"_blank\" class=\"${this.baseClass}__link\">\n\t\t\t\t\t${this.nodeToString(this.linkTextEl3)}\n\t\t\t\t\t${this.nodeToString(this.helperEl3)}\n\t\t\t\t</a>\n\t\t\t</div>`;\n\t\tsuperSearchLineResult.innerHTML = superSearchLineItems;\n\t\treturn superSearchLineResult;\n\t}\n\n\tsuperSearchLineInputHandler(e){\n\t\tlet value = e.target.value;\n\t\tlet result = this.superSearchLineForm.querySelector(this.baseClassSelector+\"__result\");\n\t\tresult && this.superSearchLineForm.removeChild(result);\n\t\tif(value !== null && value !== \"\"){\n\t\t\tthis.superSearchLineReset.classList.remove('hidden');\n\t\t\tthis.superSearchLineButton.removeAttribute(\"disabled\");\n\t\t\tif(this.parseUrl(value)){\n\t\t\t\tlet result = value.match(this.urlPattern);\n\t\t\t\tlet protocol = result[1];\n\t\t\t\tlet domain = result[2];\n\t\t\t\tlet query = result[3];\n\t\t\t\tlet superSearchLineResult = this.superSearchLineResultGenerator(protocol,domain,query);\n\t\t\t\tconsole.log(true);\n\t\t\t\tthis.superSearchLineForm.appendChild(superSearchLineResult);\n\t\t\t}\t\t\n\t\t}else{\n\t\t\tthis.superSearchLineReset.classList.add('hidden');\n\t\t\tthis.superSearchLineButton.setAttribute(\"disabled\",\"disabled\");\n\t\t}\t\n\t}\n\n\tstringWidthInPX(el) {\n\t  // дополнительные стили для клона, что бы мир не заметил чуда, и размеры отображались корректно\n\t  let hiddenStyle = \"left:-10000px;top:-10000px;height:auto;width:auto;position:absolute;\";\n\n\t  // создаем box элемент \n\t  // для клонирования содержимого из нашего исходного inline блока\n\t  let clone = document.createElement('div');\n\t  \n\t  // в обязательном порядке копируем стили с исходного элемента, \n\t  // что бы размеры соответствовали исходнику.\n\t  for (let i in el.style) {\n\t    try {\n\t      if ((el.style[i] != '') && (el.style[i].indexOf(\":\") > 0)) {\n\t        clone.style[i] = el.style[i];\n\t      }\n\t    } catch (e) {}\n\t  }\n\t  \n\t  // устанавливаем стили у клона, дабы он не мозолил глаз. \n\t  // Учитываем, что IE не позволяет напрямую устанавливать значение аттрибута style\n\t  document.all ? clone.style.setAttribute('cssText', hiddenStyle) : clone.setAttribute('style', hiddenStyle);\n\n\t  // Переносим содержимое. Аккуратно.\n\t  clone.innerHTML = el.innerHTML\n\t  \n\t  // Добавляем клон в корневой документ. \n\t  // Так, на всякий пожарный в parent, а то вдруг элемент внутри iframe?\n\t  parent.document.body.appendChild(clone);\n\t  \n\t  // Забиваем заветное.\n\t  let width = clone.clientWidth;\n\t  console.log(width);\n\t  \n\t  // ...и тут же удаляем\n\t  parent.document.body.removeChild(clone);\n\n\t  // Вот собственно говоря и все.\n\t  return width;\n\t}\n\n\tnodeToString(node){\n\t\tlet tmpNode = document.createElement(\"div\");\n\t\ttmpNode.appendChild(node.cloneNode(true));\n\t\tlet str = tmpNode.innerHTML;\n\t\ttmpNode = node = null;\n\t\treturn str;\n\t}\n}\n\n\nconst init = () => {\n\tlet superSearchLines = document.querySelectorAll('.super-search-line');\n\tlet i = 0;\n\tfor(let superSearchLine of superSearchLines) {\n\t\tsuperSearchLine.setAttribute('id',\"superSeachLine\"+i++);\n\t\tnew SuperSearchLine(superSearchLine);\n\t}\n}\n\n(function(){\n\tdocument.addEventListener('DOMContentLoaded', init);\n\t\n});\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.app = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({\"./src/js/app.js\":[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var key in props) { var prop = props[key]; prop.configurable = true; if (prop.value) prop.writable = true; } Object.defineProperties(target, props); } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } };\n\n//const test_url = \"https://medium.com/playwell/no-mans-sky-and-the-beautiful-return-to-the-weird-81343f2aad37/\";\n\nvar SuperSearchLine = (function () {\n\tfunction SuperSearchLine(superSearchLineNode) {\n\t\t_classCallCheck(this, SuperSearchLine);\n\n\t\t// Устанавливаем базовые переменные\n\t\tthis.remote = \"http://super-analytics.com/\";\n\n\t\tthis.id = superSearchLineNode.getAttribute(\"id\");\n\t\tthis.baseClass = \"super-search-line\";\n\t\tthis.baseClassSelector = \".\" + this.baseClass;\n\t\tthis.urlPattern = new RegExp(/(https?:\\/\\/)?((?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b)([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/);\n\n\t\t// Определяем элементы\n\t\tthis.superSearchLineForm = superSearchLineNode.querySelector(this.baseClassSelector + \"__form\");\n\t\tthis.superSearchLineInput = superSearchLineNode.querySelector(this.baseClassSelector + \"__input\");\n\t\tthis.superSearchLineReset = superSearchLineNode.querySelector(this.baseClassSelector + \"__reset\");\n\t\tthis.superSearchLineButton = superSearchLineNode.querySelector(this.baseClassSelector + \"__button\");\n\t\t// Навешиваем события\n\t\tthis.superSearchLineInput.addEventListener(\"change\", this.superSearchLineInputHandler.bind(this));\n\t\tthis.superSearchLineInput.addEventListener(\"input\", this.superSearchLineInputHandler.bind(this));\n\t\tthis.superSearchLineReset.addEventListener(\"click\", this.superSearchLineResetValue.bind(this));\n\t\tthis.superSearchLineButton.addEventListener(\"click\", this.superSearchLineSubmit.bind(this));\n\t\tthis.superSearchLineForm.addEventListener(\"submit\", this.superSearchLineSubmit.bind(this));\n\n\t\t// Создаем элементы для отображения результата\n\n\t\t// Создаем блоки для подсказок\n\t\tthis.linkTextEl1 = document.createElement(\"div\");\n\t\tthis.linkTextEl2 = document.createElement(\"div\");\n\t\tthis.linkTextEl3 = document.createElement(\"div\");\n\t\tthis.linkTextEl1.classList.add(\"\" + this.baseClass + \"__link-text\");\n\t\tthis.linkTextEl2.classList.add(\"\" + this.baseClass + \"__link-text\");\n\t\tthis.linkTextEl3.classList.add(\"\" + this.baseClass + \"__link-text\");\n\n\t\t// Создаем блоки поясняющего текста и сразу считаем ширину т.к. в дальнейшем не меняются\n\t\tthis.helperEl1 = document.createElement(\"div\");\n\t\tthis.helperEl2 = document.createElement(\"div\");\n\t\tthis.helperEl3 = document.createElement(\"div\");\n\n\t\tthis.helperEl1.classList.add(\"\" + this.baseClass + \"__helper\");\n\t\tthis.helperEl2.classList.add(\"\" + this.baseClass + \"__helper\");\n\t\tthis.helperEl3.classList.add(\"\" + this.baseClass + \"__helper\");\n\n\t\tthis.helperEl1.innerHTML = \"in <span class=\\\"\" + this.baseClass + \"__helper-type\\\">Phrase Overview</span>\";\n\t\tthis.helperEl2.innerHTML = \"in <span class=\\\"\" + this.baseClass + \"__helper-type\\\">Domain Overview</span>\";\n\t\tthis.helperEl3.innerHTML = \"in <span class=\\\"\" + this.baseClass + \"__helper-type\\\">URL Overview</span>\";\n\n\t\tthis.helperStr1Width = this.stringWidthInPX(this.helperEl1);\n\t\tthis.helperStr2Width = this.stringWidthInPX(this.helperEl2);\n\t\tthis.helperStr3Width = this.stringWidthInPX(this.helperEl3);\n\t}\n\n\t_createClass(SuperSearchLine, {\n\t\tparseUrl: {\n\t\t\tvalue: function parseUrl(url) {\n\t\t\t\treturn this.urlPattern.test(url);\n\t\t\t}\n\t\t},\n\t\tsuperSearchLineResetValue: {\n\t\t\tvalue: function superSearchLineResetValue() {\n\t\t\t\tthis.superSearchLineInput.value = null;\n\t\t\t\t//this.superSearchLineInput.change();\n\t\t\t\tthis.superSearchLineReset.classList.add(\"hidden\");\n\t\t\t\tthis.superSearchLineButton.setAttribute(\"disabled\", \"disabled\");\n\t\t\t\tvar result = this.superSearchLineForm.querySelector(this.baseClassSelector + \"__result\");\n\t\t\t\tresult && this.superSearchLineForm.removeChild(result);\n\t\t\t\t//console.log(this.superSearchLineInput.value);\n\t\t\t}\n\t\t},\n\t\tsuperSearchLineSubmit: {\n\t\t\tvalue: function superSearchLineSubmit(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar XHR = \"onload\" in new XMLHttpRequest() ? XMLHttpRequest : XDomainRequest;\n\t\t\t\tvar r = new XHR();\n\t\t\t\tvar data = {\n\t\t\t\t\tformId: this.id,\n\t\t\t\t\tquery: this.superSearchLineInput.value\n\t\t\t\t};\n\t\t\t\tr.open(\"POST\", this.remote);\n\t\t\t\tr.onload = function (response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t};\n\t\t\t\tr.onerror = function (error) {\n\t\t\t\t\tconsole.log(\"Ошибка: \", error);\n\t\t\t\t};\n\t\t\t\tr.send(data);\n\t\t\t}\n\t\t},\n\t\tsuperSearchLineResultGenerator: {\n\t\t\tvalue: function superSearchLineResultGenerator(protocol, domain, query) {\n\t\t\t\tvar inputWidth = this.superSearchLineInput.offsetWidth;\n\n\t\t\t\t// Записываем текст в блоки результата и считаем их ширину\n\t\t\t\tthis.linkTextEl1.innerHTML = protocol + domain + query;\n\t\t\t\tvar linkStr1Width = this.stringWidthInPX(this.linkTextEl1);\n\t\t\t\tthis.linkTextEl2.innerHTML = domain;\n\t\t\t\tvar linkStr2Width = this.stringWidthInPX(this.linkTextEl2);\n\t\t\t\tthis.linkTextEl3.innerHTML = domain + query;\n\t\t\t\tvar linkStr3Width = this.stringWidthInPX(this.linkTextEl3);\n\n\t\t\t\tvar superSearchLineResult = document.createElement(\"div\");\n\t\t\t\tsuperSearchLineResult.setAttribute(\"class\", this.baseClass + \"__result\");\n\t\t\t\tvar helperFixedClass = \"\" + this.baseClass + \"__helper--fixed\";\n\n\t\t\t\tinputWidth - this.helperStr1Width < linkStr1Width ? this.helperEl1.classList.add(helperFixedClass) : this.helperEl1.classList.remove(helperFixedClass);\n\t\t\t\tinputWidth - this.helperStr2Width < linkStr2Width ? this.helperEl2.classList.add(helperFixedClass) : this.helperEl2.classList.remove(helperFixedClass);\n\t\t\t\tinputWidth - this.helperStr3Width < linkStr3Width ? this.helperEl3.classList.add(helperFixedClass) : this.helperEl3.classList.remove(helperFixedClass);\n\n\t\t\t\tvar superSearchLineItems = \"<div class=\\\"\" + this.baseClass + \"__item\\\">\\n\\t\\t\\t\\t<a href=\\\"\" + this.remote + \"?suggestionType=phrase&query=\" + (protocol + domain + query) + \"\\\" target=\\\"_blank\\\" class=\\\"\" + this.baseClass + \"__link\\\">\\n\\t\\t\\t\\t\\t\" + this.nodeToString(this.linkTextEl1) + \"\\n\\t\\t\\t\\t\\t\" + this.nodeToString(this.helperEl1) + \"\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"\" + this.baseClass + \"__item\\\">\\n\\t\\t\\t\\t<a href=\\\"\" + this.remote + \"?suggestionType=domain&query=\" + domain + \"\\\" target=\\\"_blank\\\" class=\\\"\" + this.baseClass + \"__link\\\">\\n\\t\\t\\t\\t\\t\" + this.nodeToString(this.linkTextEl2) + \"\\n\\t\\t\\t\\t\\t\" + this.nodeToString(this.helperEl2) + \"\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"\" + this.baseClass + \"__item\\\">\\n\\t\\t\\t\\t<a href=\\\"\" + this.remote + \"?suggestionType=url&query=\" + (domain + query) + \"\\\" target=\\\"_blank\\\" class=\\\"\" + this.baseClass + \"__link\\\">\\n\\t\\t\\t\\t\\t\" + this.nodeToString(this.linkTextEl3) + \"\\n\\t\\t\\t\\t\\t\" + this.nodeToString(this.helperEl3) + \"\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</div>\";\n\t\t\t\tsuperSearchLineResult.innerHTML = superSearchLineItems;\n\t\t\t\treturn superSearchLineResult;\n\t\t\t}\n\t\t},\n\t\tsuperSearchLineInputHandler: {\n\t\t\tvalue: function superSearchLineInputHandler(e) {\n\t\t\t\tvar value = e.target.value;\n\t\t\t\tvar result = this.superSearchLineForm.querySelector(this.baseClassSelector + \"__result\");\n\t\t\t\tresult && this.superSearchLineForm.removeChild(result);\n\t\t\t\tif (value !== null && value !== \"\") {\n\t\t\t\t\tthis.superSearchLineReset.classList.remove(\"hidden\");\n\t\t\t\t\tthis.superSearchLineButton.removeAttribute(\"disabled\");\n\t\t\t\t\tif (this.parseUrl(value)) {\n\t\t\t\t\t\tvar _result = value.match(this.urlPattern);\n\t\t\t\t\t\tvar protocol = _result[1];\n\t\t\t\t\t\tvar domain = _result[2];\n\t\t\t\t\t\tvar query = _result[3];\n\t\t\t\t\t\tvar superSearchLineResult = this.superSearchLineResultGenerator(protocol, domain, query);\n\t\t\t\t\t\tconsole.log(true);\n\t\t\t\t\t\tthis.superSearchLineForm.appendChild(superSearchLineResult);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.superSearchLineReset.classList.add(\"hidden\");\n\t\t\t\t\tthis.superSearchLineButton.setAttribute(\"disabled\", \"disabled\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstringWidthInPX: {\n\t\t\tvalue: function stringWidthInPX(el) {\n\t\t\t\t// дополнительные стили для клона, что бы мир не заметил чуда, и размеры отображались корректно\n\t\t\t\tvar hiddenStyle = \"left:-10000px;top:-10000px;height:auto;width:auto;position:absolute;\";\n\n\t\t\t\t// создаем box элемент\n\t\t\t\t// для клонирования содержимого из нашего исходного inline блока\n\t\t\t\tvar clone = document.createElement(\"div\");\n\n\t\t\t\t// в обязательном порядке копируем стили с исходного элемента,\n\t\t\t\t// что бы размеры соответствовали исходнику.\n\t\t\t\tfor (var i in el.style) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (el.style[i] != \"\" && el.style[i].indexOf(\":\") > 0) {\n\t\t\t\t\t\t\tclone.style[i] = el.style[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\n\t\t\t\t// устанавливаем стили у клона, дабы он не мозолил глаз.\n\t\t\t\t// Учитываем, что IE не позволяет напрямую устанавливать значение аттрибута style\n\t\t\t\tdocument.all ? clone.style.setAttribute(\"cssText\", hiddenStyle) : clone.setAttribute(\"style\", hiddenStyle);\n\n\t\t\t\t// Переносим содержимое. Аккуратно.\n\t\t\t\tclone.innerHTML = el.innerHTML;\n\n\t\t\t\t// Добавляем клон в корневой документ.\n\t\t\t\t// Так, на всякий пожарный в parent, а то вдруг элемент внутри iframe?\n\t\t\t\tparent.document.body.appendChild(clone);\n\n\t\t\t\t// Забиваем заветное.\n\t\t\t\tvar width = clone.clientWidth;\n\t\t\t\tconsole.log(width);\n\n\t\t\t\t// ...и тут же удаляем\n\t\t\t\tparent.document.body.removeChild(clone);\n\n\t\t\t\t// Вот собственно говоря и все.\n\t\t\t\treturn width;\n\t\t\t}\n\t\t},\n\t\tnodeToString: {\n\t\t\tvalue: function nodeToString(node) {\n\t\t\t\tvar tmpNode = document.createElement(\"div\");\n\t\t\t\ttmpNode.appendChild(node.cloneNode(true));\n\t\t\t\tvar str = tmpNode.innerHTML;\n\t\t\t\ttmpNode = node = null;\n\t\t\t\treturn str;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn SuperSearchLine;\n})();\n\nvar init = (function () {\n\tvar superSearchLines = document.querySelectorAll(\".super-search-line\");\n\tvar i = 0;\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = superSearchLines[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar superSearchLine = _step.value;\n\n\t\t\tsuperSearchLine.setAttribute(\"id\", \"superSeachLine\" + i++);\n\t\t\tnew SuperSearchLine(superSearchLine);\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n\t\t\t\t_iterator[\"return\"]();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n})(function () {\n\tdocument.addEventListener(\"DOMContentLoaded\", init);\n});\n\n},{}]},{},[\"./src/js/app.js\"])(\"./src/js/app.js\")\n});\n\n"],"sourceRoot":"/source/"}