!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.app=e()}}(function(){return function e(t,s,i){function n(l,a){if(!s[l]){if(!t[l]){var h="function"==typeof require&&require;if(!a&&h)return h(l,!0);if(r)return r(l,!0);var o=new Error("Cannot find module '"+l+"'");throw o.code="MODULE_NOT_FOUND",o}var u=s[l]={exports:{}};t[l][0].call(u.exports,function(e){var s=t[l][1][e];return n(s?s:e)},u,u.exports,e,t,s,i)}return s[l].exports}for(var r="function"==typeof require&&require,l=0;l<i.length;l++)n(i[l]);return n}({"./src/js/app.js":[function(e,t,s){"use strict";var i=function(){function e(e,t){for(var s in t){var i=t[s];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(e,t)}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(t){n(this,e),this.remote="http://super-analytics.com/",this.id=t.getAttribute("id"),this.baseClass="super-search-line",this.baseClassSelector="."+this.baseClass,this.urlPattern=new RegExp(/(https?:\/\/)?((?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b)([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/),this.superSearchLineForm=t.querySelector(this.baseClassSelector+"__form"),this.superSearchLineInput=t.querySelector(this.baseClassSelector+"__input"),this.superSearchLineReset=t.querySelector(this.baseClassSelector+"__reset"),this.superSearchLineButton=t.querySelector(this.baseClassSelector+"__button"),this.superSearchLineInput.addEventListener("change",this.superSearchLineInputHandler.bind(this)),this.superSearchLineInput.addEventListener("input",this.superSearchLineInputHandler.bind(this)),this.superSearchLineReset.addEventListener("click",this.superSearchLineResetValue.bind(this)),this.superSearchLineButton.addEventListener("click",this.superSearchLineSubmit.bind(this)),this.superSearchLineForm.addEventListener("submit",this.superSearchLineSubmit.bind(this)),this.linkTextEl1=document.createElement("div"),this.linkTextEl2=document.createElement("div"),this.linkTextEl3=document.createElement("div"),this.linkTextEl1.classList.add(""+this.baseClass+"__link-text"),this.linkTextEl2.classList.add(""+this.baseClass+"__link-text"),this.linkTextEl3.classList.add(""+this.baseClass+"__link-text"),this.helperEl1=document.createElement("div"),this.helperEl2=document.createElement("div"),this.helperEl3=document.createElement("div"),this.helperEl1.classList.add(""+this.baseClass+"__helper"),this.helperEl2.classList.add(""+this.baseClass+"__helper"),this.helperEl3.classList.add(""+this.baseClass+"__helper"),this.helperEl1.innerHTML='in <span class="'+this.baseClass+'__helper-type">Phrase Overview</span>',this.helperEl2.innerHTML='in <span class="'+this.baseClass+'__helper-type">Domain Overview</span>',this.helperEl3.innerHTML='in <span class="'+this.baseClass+'__helper-type">URL Overview</span>',this.helperStr1Width=this.stringWidthInPX(this.helperEl1),this.helperStr2Width=this.stringWidthInPX(this.helperEl2),this.helperStr3Width=this.stringWidthInPX(this.helperEl3)}return i(e,{parseUrl:{value:function(e){return this.urlPattern.test(e)}},superSearchLineResetValue:{value:function(){this.superSearchLineInput.value=null,this.superSearchLineReset.classList.add("hidden"),this.superSearchLineButton.setAttribute("disabled","disabled");var e=this.superSearchLineForm.querySelector(this.baseClassSelector+"__result");e&&this.superSearchLineForm.removeChild(e)}},superSearchLineSubmit:{value:function(e){e.preventDefault();var t="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest,s=new t,i="formId="+encodeURIComponent(this.id)+"&query="+encodeURIComponent(this.superSearchLineInput.value);s.open("POST",this.remote),s.onload=function(e){console.log(e)},s.onerror=function(e){console.log("Ошибка: ",e)},s.send(i)}},superSearchLineResultGenerator:{value:function(e,t,s){var i=this.superSearchLineInput.offsetWidth;this.linkTextEl1.innerHTML=e+t+s;var n=this.stringWidthInPX(this.linkTextEl1);this.linkTextEl2.innerHTML=t;var r=this.stringWidthInPX(this.linkTextEl2);this.linkTextEl3.innerHTML=t+s;var l=this.stringWidthInPX(this.linkTextEl3),a=document.createElement("div");a.setAttribute("class",this.baseClass+"__result");var h=""+this.baseClass+"__helper--fixed";i-this.helperStr1Width<n?this.helperEl1.classList.add(h):this.helperEl1.classList.remove(h),i-this.helperStr2Width<r?this.helperEl2.classList.add(h):this.helperEl2.classList.remove(h),i-this.helperStr3Width<l?this.helperEl3.classList.add(h):this.helperEl3.classList.remove(h);var o='<div class="'+this.baseClass+'__item">\n\t\t\t\t<a href="'+this.remote+"?suggestionType=phrase&query="+(e+t+s)+'" target="_blank" class="'+this.baseClass+'__link">\n\t\t\t\t\t'+this.nodeToString(this.linkTextEl1)+"\n\t\t\t\t\t"+this.nodeToString(this.helperEl1)+'\n\t\t\t\t</a>\n\t\t\t\t\n\t\t\t</div>\n\t\t\t<div class="'+this.baseClass+'__item">\n\t\t\t\t<a href="'+this.remote+"?suggestionType=domain&query="+t+'" target="_blank" class="'+this.baseClass+'__link">\n\t\t\t\t\t'+this.nodeToString(this.linkTextEl2)+"\n\t\t\t\t\t"+this.nodeToString(this.helperEl2)+'\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class="'+this.baseClass+'__item">\n\t\t\t\t<a href="'+this.remote+"?suggestionType=url&query="+(t+s)+'" target="_blank" class="'+this.baseClass+'__link">\n\t\t\t\t\t'+this.nodeToString(this.linkTextEl3)+"\n\t\t\t\t\t"+this.nodeToString(this.helperEl3)+"\n\t\t\t\t</a>\n\t\t\t</div>";return a.innerHTML=o,a}},superSearchLineInputHandler:{value:function(e){var t=e.target.value,s=this.superSearchLineForm.querySelector(this.baseClassSelector+"__result");if(s&&this.superSearchLineForm.removeChild(s),null!==t&&""!==t){if(this.superSearchLineReset.classList.remove("hidden"),this.superSearchLineButton.removeAttribute("disabled"),this.parseUrl(t)){var i=t.match(this.urlPattern),n=i[1],r=i[2],l=i[3],a=this.superSearchLineResultGenerator(n,r,l);console.log(!0),this.superSearchLineForm.appendChild(a)}}else this.superSearchLineReset.classList.add("hidden"),this.superSearchLineButton.setAttribute("disabled","disabled")}},stringWidthInPX:{value:function(e){var t="left:-10000px;top:-10000px;height:auto;width:auto;position:absolute;",s=document.createElement("div");window.getComputedStyle(e,null);s.classList=e.classList;for(var i in e.style)try{""!=e.style[i]&&e.style[i].indexOf(":")>0&&(s.style[i]=e.style[i])}catch(n){}document.all?s.style.setAttribute("cssText",t):s.setAttribute("style",t),s.innerHTML=e.innerHTML,parent.document.body.appendChild(s);var r=s.clientWidth;return console.log(r),parent.document.body.removeChild(s),r}},nodeToString:{value:function(e){var t=document.createElement("div");t.appendChild(e.cloneNode(!0));var s=t.innerHTML;return t=e=null,s}}}),e}(),l=function(){var e=document.querySelectorAll(".super-search-line"),t=0,s=!0,i=!1,n=void 0;try{for(var l,a=e[Symbol.iterator]();!(s=(l=a.next()).done);s=!0){var h=l.value;h.setAttribute("id","superSeachLine"+t++),new r(h)}}catch(o){i=!0,n=o}finally{try{!s&&a["return"]&&a["return"]()}finally{if(i)throw n}}}(function(){document.addEventListener("DOMContentLoaded",l)})},{}]},{},["./src/js/app.js"])("./src/js/app.js")});
//# sourceMappingURL=app.min.js.map
